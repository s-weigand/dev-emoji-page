<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="canonical" href="https://s-weigand.github.io/dev-emoji-page" />
    <title>Dev emojis</title>
    <link rel="stylesheet" href="./scss/style.scss" />
    <script type="module" src="./ts/index.tsx" defer></script>
  </head>
  <body></body>
  <noscript>Your browser does not support JavaScript!</noscript>
  <main class="MuiPaper-root"></main>
  <script>
    if ('serviceWorker' in navigator) {
      const pageScope = window.location.host.startsWith('localhost')
        ? ''
        : 'https://s-weigand.github.io/dev-emoji-page'
      console.log({ pageScope })
      window.addEventListener('load', () => {
        // a lil trick so parcel won't fail to generate the path
        navigator.serviceWorker
          .register([pageScope + '/sw', '.js'].join(''), {
            scope: pageScope + '/',
          })
          .then((registration) => {
            console.log(
              'Registration successful, scope is:',
              registration.scope
            )
          })
          .catch((error) => {
            console.log('Service worker registration failed, error:', error)
          })
      })
    }
  </script>
</html>
